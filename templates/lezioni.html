<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>FlipInClassIA - Dashboard</title>    <!-- Favicon -->    <link rel="shortcut icon" href="../static/dashboardStaticFile/img/svg/Logo.svg" type="image/x-icon">    <!-- Custom styles -->    <link rel="stylesheet" href="../static/dashboardStaticFile/css/style.min.css"></head><body><div class="layer"></div><!-- ! Body --><a class="skip-link sr-only" href="#skip-target">Skip to content</a><div class="page-flex">    <!-- ! Sidebar -->    {% include 'side-bar.html' %}    <div class="main-wrapper">        <!-- ! Main nav -->        {% include 'main-nav.html' %}        <!-- Modal per Docente: Avviare Lezione Programmata -->        <div id="avviaLezioneModal" class="modal">            <div class="modal-content">                <span class="close" id="closeAvviaLezioneModal">&times;</span>                <h2 class="modal-title">Avvia Lezione del {{ oggi }}</h2>                <form id="createCourseForm" action="/avvia_lezione" method="POST" class="form"                      enctype="multipart/form-data">                    <input type="hidden" id="lezioneIdField" name="lezione_id" value="">                    <label class="form-label-wrapper">                        <p class="form-label">Carica le dispense (PDF o PPTX):</p>                        <input type="file" id="file" name="file" accept=".pdf,.pptx" required>                    </label>                    <input type="hidden" name="type_start" value="Programmata">                    <button type="submit" class="form-btn primary-default-btn transparent-btn">Carica File</button>                </form>            </div>        </div>        <!-- Modal per Docente: Avviare Lezione Immediata -->        <div id="avviaLezioneImmediataModal" class="modal">            <div class="modal-content">                <span class="close" id="closeAvviaLezioneImmediataModal">&times;</span>                <h2 class="modal-title">Avvia Lezione Immediata</h2>                <form id="createCourseForm" action="/avvia_lezione" method="POST" class="form"                      enctype="multipart/form-data">                    <label class="form-label-wrapper">                        <p class="form-label">Dammi la descrizione della lezione:</p>                        <input type="text" id="descrizione" name="descrizione" required>                    </label>                    <label class="custom-file-upload-wrapper">                        <p class="form-label">Carica le dispense (PDF o PPTX):</p>                        <input type="file" id="file" name="file" accept=".pdf,.pptx" required                               onchange="updateFileName(this)">                        <span class="custom-file-upload">Scegli file</span>                        <span class="form-label">Nessun file selezionato</span>                        <br><br>                    </label>                    <input type="hidden" name="type_start" value="Immediata">                    <input type="hidden" name="corso_id" value="{{ corso_id }}">                    <button type="submit" class="form-btn primary-default-btn transparent-btn">Carica File</button>                </form>            </div>        </div>        <!-- ! Main -->        <main class="main users chart-page" id="skip-target">            <div class="container">                <div class="row2">                    <div class="col-lg-9">                        <h2 class="main-title">Lezione programmate del corso "{{ nome_corso }}" per oggi:</h2>                        <div class="users-table table-wrapper">                            <br>                            <table class="posts-table">                                <thead>                                <tr class="users-table-info">                                    <th>Nome e Cognome Docente</th>                                    <th>Descrizione</th>                                    <th>Attivit√†</th>                                </tr>                                </thead>                                <tbody>                                {% if lezioni %}                                    {% for lezione in lezioni %}                                        <tr>                                            <td>                                                {{ lezione['nome'] + " " + lezione['cognome'] }}                                            </td>                                            <td>                                                {{ lezione['descrizione'] }}                                            </td>                                            <td>                                                {% if lezione['statoLezione'] == 'Programmata' %}                                                    {% if session['user_type'] == "docente" %}                                                        <button class="form-btn primary-default-btn transparent-btn avviaLezioneBtn"                                                                data-lezione-id="{{ lezione['lezione_id'] }}">                                                            Avvia Lezione                                                        </button>                                                    {% else %}                                                        <div class="table-cell">                                                            <span class="badge-pending">Non avviata</span>                                                        </div>                                                    {% endif %}                                                {% elif lezione['statoLezione'] == 'Avviata' %}                                                    <form action="/accedi_lezione" method="post">                                                        <input type="hidden" name="lezione_id"                                                               value="{{ lezione['lezione_id'] }}">                                                        <button class="form-btn primary-default-btn transparent-btn">                                                            Entra nella Lezione                                                        </button>                                                    </form>                                                {% else %}                                                    <div class="table-cell">                                                        <span class="badge-trashed">Terminata</span>                                                    </div>                                                {% endif %}                                            </td>                                        </tr>                                    {% endfor %}                                {% else %}                                    {% if session['user_type'] == "docente" %}                                        <td colspan="2">                                            Per questo corso non risultano lezioni programmate oggi                                        </td>                                        <td colspan="1">                                            <button class="form-btn primary-default-btn transparent-btn avviaLezioneImmediataBtn">                                                Avvia Lezione Immediata                                            </button>                                        </td>                                    {% else %}                                        <td colspan="3">                                            Per questo corso non risultano lezioni programmate oggi                                        </td>                                    {% endif %}                                {% endif %}                                </tbody>                            </table>                        </div>                    </div>                </div>            </div>        </main>        <!-- ! Footer -->        {% include 'footerDash.html' %}    </div></div><!-- Chart library --><script src="../static/dashboardStaticFile/plugins/chart.min.js"></script><!-- Icons library --><script src="../static/dashboardStaticFile/plugins/feather.min.js"></script><!-- Custom scripts --><script src="../static/dashboardStaticFile/js/script.js"></script><script>    // Ottieni gli elementi del modal    var avviaLezioneModal = document.getElementById("avviaLezioneModal");    var avviaLezioneImmediataModal = document.getElementById("avviaLezioneImmediataModal");    // Ottieni tutti i pulsanti con classe "avviaLezioneBtn"    var avviaLezioneBtns = document.querySelectorAll(".avviaLezioneBtn");    var avviaLezioneImmediataBtns = document.querySelectorAll(".avviaLezioneImmediataBtn");    // Ottieni l'elemento <span> che chiude il modal    var chiudiavviaLezioneModal = document.getElementById("closeAvviaLezioneModal");    var chiudiavviaLezioneImmediataModal = document.getElementById("closeAvviaLezioneImmediataModal");    // Campo nascosto per il lezione_id nella modale    var lezioneIdField = document.getElementById("lezioneIdField");    // Aggiungi event listener ai pulsanti "Avvia Lezione"    avviaLezioneBtns.forEach(function (btn) {        btn.onclick = function () {            var lezioneId = btn.getAttribute('data-lezione-id');            lezioneIdField.value = lezioneId;  // Imposta il valore del campo nascosto con il lezione_id            avviaLezioneModal.style.display = "block";        };    });    avviaLezioneImmediataBtns.forEach(function (btn) {        btn.onclick = function () {            avviaLezioneImmediataModal.style.display = "block";        };    });    // Quando l'utente clicca su <span> (x), chiudi il modal    if (chiudiavviaLezioneModal) {        chiudiavviaLezioneModal.onclick = function () {            avviaLezioneModal.style.display = "none";        }    }    if (chiudiavviaLezioneImmediataModal) {        chiudiavviaLezioneImmediataModal.onclick = function () {            avviaLezioneImmediataModal.style.display = "none";        }    }    // Quando l'utente clicca ovunque al di fuori del modal, chiudilo    window.onclick = function (event) {        if (event.target == avviaLezioneModal) {            avviaLezioneModal.style.display = "none";            avviaLezioneImmediataModal.style.display = "none";        }    }</script><script>    function updateFileName(input) {        var fileName = input.files[0] ? input.files[0].name : 'Nessun file selezionato';        input.nextElementSibling.nextElementSibling.textContent = fileName;    }</script></body></html>