<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>FlipInClassIA - Dashboard</title>    <!-- Favicon -->    <link rel="shortcut icon" href="../static/dashboardStaticFile/img/svg/Logo.svg" type="image/x-icon">    <!-- Custom styles -->    <link rel="stylesheet" href="../static/dashboardStaticFile/css/style.min.css">    <!-- Include Chart.js versione 3+ -->    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1"></script>    <!-- Include Moment.js -->    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>    <!-- Include l'adattatore per Chart.js per moment.js -->    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.0"></script></head><body>    <div class="layer"></div>    <!-- ! Body -->    <a class="skip-link sr-only" href="#skip-target">Skip to content</a>    <div class="page-flex">        <!-- ! Sidebar -->        {% include 'side-bar.html' %}        <div class="main-wrapper">            <!-- ! Main nav -->            {% include 'main-nav.html' %}            <!-- ! Main -->            <main class="main users chart-page" id="skip-target">                <div class="container">                    <div class="row2">                        <div class="col-lg-9">                            <h2 class="main-title">Statistiche</h2>                            <div>                                <canvas id="statisticheChart"></canvas>                            </div>                        </div>                    </div>                </div>                <script>                    const userType = "{{ session['user_type'] }}";  // Passato dal backend                    const statisticheQuestionario = {{ statistiche_questionario | tojson }};                    const statisticheStudente = {{ statistiche_studente | tojson }};                    document.addEventListener('DOMContentLoaded', function () {                        let labels = [];                        let values = [];                        let label = '';                        if (userType === 'docente') {                            // Analizza i dati dei questionari per il docente                            statisticheQuestionario.forEach(item => {                                const date = new Date(item.data);                                labels.push(date.toISOString().split('T')[0]);                                values.push(item.punteggio_medio);                            });                            label = 'Punteggio Medio';                        } else if (userType === 'studente') {                            // Analizza i dati degli studenti                            statisticheStudente.forEach(item => {                                const date = new Date(item.data);                                labels.push(date.toISOString().split('T')[0]);                                values.push(item.punteggio);                            });                            label = 'Punteggio';                        }                        // Crea il grafico                        const ctx = document.getElementById('statisticheChart').getContext('2d');                        new Chart(ctx, {                            type: 'line',                            data: {                                labels: labels,                                datasets: [{                                    label: label,                                    data: values,                                    borderColor: 'rgba(75, 192, 192, 1)',                                    fill: false                                }]                            },                            options: {                                responsive: true,                                scales: {                                    x: {                                        type: 'time',  // Tipo di asse temporale                                        time: {                                            unit: 'day'                                        },                                        adapters: {                                            date: moment                                        }                                    }                                }                            }                        });                    });                </script>            </main>            <!-- ! Footer -->            {% include 'footerDash.html' %}        </div>    </div>    <!-- Icons library -->    <script src="../static/dashboardStaticFile/plugins/feather.min.js"></script>    <!-- Custom scripts -->    <script src="../static/dashboardStaticFile/js/script.js"></script></body></html>